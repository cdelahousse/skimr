(function(a,b){function s(){var b=document.createDocumentFragment();d=z(),document.getElementsByTagName("head")[0].appendChild(d),o=x();if(!o){alert("Skimr can't work on this page"),F();return}a.scroll(0,0),f=B(),b.appendChild(f),e=C(),g=A(),i=E(),f.appendChild(g),f.appendChild(i),f.appendChild(e),document.body.appendChild(b),w(),I(d,function(){c=a.google,c.load("feeds","1",{callback:t,nocss:!0})})}function t(a,d){var e;a===3&&(a=b),a||(a=m),d||(d=u),e=new c.feeds.Feed(o),e.setResultFormat(c.feeds.Feed.JSON_FORMAT),e.includeHistoricalEntries(),e.setNumEntries(a),e.load(d)}function u(a){var b;a.status.code===400&&(alert("Woops, there is a problem with the feed"),F()),G(g),q=a.feed.entries,r=q.length,h=D(),f.appendChild(h),t(n,function(){q=this.feed.entries,r=q.length,r>=m&&(k.className="show")})}function v(a){p+=a,k.className=a>=r-p?"hide":"show",l.className=p>0?"show":"hide",G(document.getElementById("skimr-table")),h=D(a),f.appendChild(h)}function w(){function c(b){b||(b=a.event),b.keyCode===27&&F()}function d(b){b||(b=a.event);var c=b.target||b.src;switch(c.id){case"skimr-exit":F();break;case"skimr-next":v(m);break;case"skimr-prev":v(-m)}}var b=document;b.addEventListener?(b.addEventListener("keydown",c,!1),b.addEventListener("click",d,!1)):b.attachEvent&&(b.attachEvent("onkeydown",c),b.attachEvent("onclick",d))}function x(){var b=document.getElementsByTagName("link"),c=a.location,d=!1,e=b.length,f,g;for(var h=0;h<e;h++){f=b[h],g=f.getAttribute("type");if(g=="application/rss+xml"||g=="application/atom+xml"){d=f.getAttribute("href");if(!d.match(/^http/)){var i=d.match(/^\//)?"":c.pathname;d=c.protocol+"//"+c.hostname+i+d}break}}return d||y(c)}function y(a){return I(d,function(){c.feeds.lookupFeed(a,function(a){var b=a.url||!1;return console.log("Google Feed Lookup returned: ",b),b})})}function z(){var a=document.createElement("script");return a.src="https://www.google.com/jsapi",a}function A(){var a=document.createElement("div");return a.id="skimr-loading",a.innerContent?a.innerContent="Loading...":a.innerText="Loading...",a}function B(){var a=document.createElement("div");return a.id="skimr",a}function C(){var a,b;a='html {position: relative;}\nhtml,head,body {width: 100% !important; padding: 0 !important; min-width: 100% !important; margin: 0 !important; max-width: 100% !important; min-height: 100%;}\n#skimr, #skimr * {padding: 0; margin: 0;color:#000; font-weight: normal;border:0; text-transform: none; text-shadow:none; text-align: left;font: normal normal 16px/1.2 Helvetica, Arial, Sans-Serif;}\n#skimr {position:absolute;top:0;left:0;min-height:100%;width:100%; zoom:100%;background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQI12NgYGC4DAAA2ADUwvUnWwAAAABJRU5ErkJggg==) transparent repeat; z-index: 99999999; padding:0 0 30px; }\n#skimr-loading {width: 100%; background-color: #FFF; color: #000;text-align: center;}\n#skimr-dashboard {width: 100%; background-color: #fff; color: #ddd;position: fixed; bottom: 0; left: 0; text-align: center; }\n#skimr a {text-decoration: underline;}#skimr-dashboard a {margin-left: 5px;}#skimr-dashboard .hide {visibility: hidden;}#skimr-table {background-color: #EFEFEF; max-width: 1000px; margin: 0 auto; -webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;margin-top:20px;width:auto;border-collapse: separate;border-spacing: 0;background-image: -webkit-gradient( linear, left 40, left top, color-stop(0.34, rgb(239,239,239)), color-stop(0.77, rgb(221,221,221)), color-stop(0.94, rgb(222,222,222))); background-image: -moz-linear-gradient( center 40, rgb(239,239,239) 34%, rgb(221,221,221) 77%, rgb(222,222,222) 94%);}\n#skimr-table th {font: normal 1.2em/1.8 Corbel, "Lucida Sans Unicode", "Lucida Grade", "Bitstream Vera Sans", "Luxi Serif", Verdana, sans-serif; text-shadow: 2px 2px 3px #aaa;}\n#skimr-table th:first-child {padding: 0 0 0 5px; font-size: 1em;}\n#skimr-table th:last-child { text-align: right;padding-right: 14px}\n#skimr-table a {color: #333; text-decoration:none; display: block; padding-left:6px;}\n#skimr-table a:hover {color: #333;}\n#skimr-table tr:hover td:first-child {border-right: solid 1px #efefef;border-bottom: solid 1px #ccc;}\n#skimr-table tr:hover td {background-color:#CFCFCF;}\n#skimr-table td:first-child {color: #777; font-size: 0.9em;text-align: center; border-right: solid 1px #ccc; border-bottom:solid 1px #efefef;}\n#skimr-table td {line-height: 1.9;}\n#skimr-table td:last-child {padding: 0 7px 0 0; border-bottom: solid 1px #ccc;}\n#skimr-table tr:last-child:hover td {-webkit-border-bottom-left-radius:10px;-moz-border-bottom-left-radius:10px;border-bottom-left-radius:10px;}\n#skimr-table tr:last-child td {padding-bottom: 5px; border-bottom: 0;}\n',b=document.createElement("style");try{b.appendChild(document.createTextNode(a))}catch(c){b.styleSheet&&(b.styleSheet.cssText=a)}return b}function D(a){var b=document.createDocumentFragment(),c=document.createElement("table"),d="",e,f,g,h,i,j,k;b.appendChild(c),c.id="skimr-table",a||(a=m),f=q,h=p+a>r?r:p+Math.abs(a);for(var l=p;l<h;l++)g=f[l],e=new Date(g.publishedDate),i=e.getFullYear().toString(10).substring(2),j=(e.getMonth()+1).toString(10),j=j.length==1?"0"+j:j,k=(e.getDate()+1).toString(10),k=k.length==1?"0"+k:k,d+="<tr><td>"+i+"/"+j+"/"+k+"</td> "+'<td><a href="'+g.link+'"> '+g.title+"</a></td></tr>\n";return c.innerHTML='<tr><th>yy/mm/dd</th><th id="skimr-title">Skimr</th></tr>\n'+d,b}function E(){var a=document.createDocumentFragment(),b=document.createElement("div");return a.appendChild(b),b.id="skimr-dashboard",j=H("Exit","skimr-exit"),k=H("Next","skimr-next","hide"),l=H("Prev","skimr-prev","hide"),b.appendChild(l),b.appendChild(j),b.appendChild(k),a}function F(){return G(f),G(e),G(d),G(a.skimr_script),a.skimr&&delete a.skimr,a.skimr_script&&delete a.skimr_script,!0}function G(a){return a&&a.parentNode.removeChild(a)}function H(b,c,d){var e=a.document,f=e.createElement("a");return f.href="#",f.appendChild(e.createTextNode(b)),c&&(f.id=c),d&&(f.className=d),f}function I(a,b){a.readyState?a.onreadystatechange=function(){if(a.readyState=="loaded"||a.readyState=="complete")return a.onreadystatechange=null,b()}:d.onload=function(){return b()}}"use strict";var c,d,e,f,g,h,i,j,k,l,m=50,n=250,o,p=0,q=null,r=0;a.skimr={exitApp:F,init:s,pagination:v,assetReady:I},s()})(window)